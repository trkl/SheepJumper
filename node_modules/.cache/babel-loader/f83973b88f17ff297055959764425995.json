{"ast":null,"code":"import _classCallCheck from \"/Users/torkildjurhuus/Code/SheepJumper/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/torkildjurhuus/Code/SheepJumper/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/torkildjurhuus/Code/SheepJumper/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/torkildjurhuus/Code/SheepJumper/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/torkildjurhuus/Code/SheepJumper/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/torkildjurhuus/Code/SheepJumper/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport React from \"react\";\nimport GameComponent from \"../../../../GameObject/GameComponent\";\nimport Sheep from \"./Sheep\";\nimport Vector from \"../../../../Vector/Vector\";\nimport PropTypes from \"prop-types\";\nimport { WithWorld } from \"../../../../World/HOC/WithWorld\";\n\nfunction getRandomArbitrary(min, max) {\n  return Math.random() * (max - min) + min;\n}\n\nvar SheepPool =\n/*#__PURE__*/\nfunction (_GameComponent) {\n  _inherits(SheepPool, _GameComponent);\n\n  function SheepPool(props) {\n    var _this;\n\n    _classCallCheck(this, SheepPool);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SheepPool).call(this, props));\n\n    _this.shouldComponentUpdate = function () {\n      return true;\n    };\n\n    _this.prepareForRender = function () {\n      while (_this.children.length < 7) {\n        _this.children.push(React.createElement(Sheep, {\n          offset: new Vector([_this.sheepKey++ * _this.interval(), 70]),\n          position: _this.position,\n          key: _this.sheepKey\n        }));\n      }\n    };\n\n    _this.rotateRender = function (offset) {\n      _this.children.push(React.cloneElement(_this.children.shift(), {\n        offset: new Vector([offset, 70]),\n        position: _this.position,\n        key: _this.sheepKey\n      }));\n    };\n\n    _this.beforeFrameRender = function () {\n      var _assertThisInitialize = _assertThisInitialized(_assertThisInitialized(_this)),\n          position = _assertThisInitialize.position;\n\n      var offset = _this.interval() * _this.sheepKey - 3;\n\n      if (position.x + offset > 100 && position.x + offset < 150) {\n        ++_this.sheepKey;\n\n        _this.rotateRender(offset);\n      }\n    };\n\n    _this.interval = function () {\n      return getRandomArbitrary(30, 50);\n    };\n\n    _this.children = [];\n    _this.sheepKey = 0;\n\n    _this.prepareForRender();\n\n    return _this;\n  }\n\n  _createClass(SheepPool, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      for (var i in props) {\n        this[i] = this.props[i];\n      }\n    }\n  }]);\n\n  return SheepPool;\n}(GameComponent);\n\nSheepPool.propTypes = {\n  position: PropTypes.instanceOf(Vector).isRequired\n};\nSheepPool.defaultProps = {\n  position: Vector.Zero\n};\nexport default WithWorld(SheepPool);","map":{"version":3,"sources":["/Users/torkildjurhuus/Code/SheepJumper/src/Resources/Games/SheepRunner/GameComponents/SheepPool.js"],"names":["React","GameComponent","Sheep","Vector","PropTypes","WithWorld","getRandomArbitrary","min","max","Math","random","SheepPool","props","shouldComponentUpdate","prepareForRender","children","length","push","createElement","offset","sheepKey","interval","position","key","rotateRender","cloneElement","shift","beforeFrameRender","x","i","propTypes","instanceOf","isRequired","defaultProps","Zero"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,sCAA1B;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,SAAT,QAA0B,iCAA1B;;AAEA,SAASC,kBAAT,CAA4BC,GAA5B,EAAiCC,GAAjC,EAAsC;AACpC,SAAOC,IAAI,CAACC,MAAL,MAAiBF,GAAG,GAAGD,GAAvB,IAA8BA,GAArC;AACD;;IAEKI,S;;;;;AACJ,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,mFAAMA,KAAN;;AADiB,UASnBC,qBATmB,GASK;AAAA,aAAM,IAAN;AAAA,KATL;;AAAA,UAWnBC,gBAXmB,GAWA,YAAM;AACvB,aAAO,MAAKC,QAAL,CAAcC,MAAd,GAAuB,CAA9B,EAAiC;AAC/B,cAAKD,QAAL,CAAcE,IAAd,CACEjB,KAAK,CAACkB,aAAN,CAAoBhB,KAApB,EAA2B;AACzBiB,UAAAA,MAAM,EAAE,IAAIhB,MAAJ,CAAW,CAAC,MAAKiB,QAAL,KAAkB,MAAKC,QAAL,EAAnB,EAAoC,EAApC,CAAX,CADiB;AAEzBC,UAAAA,QAAQ,EAAE,MAAKA,QAFU;AAGzBC,UAAAA,GAAG,EAAE,MAAKH;AAHe,SAA3B,CADF;AAOD;AACF,KArBkB;;AAAA,UAuBnBI,YAvBmB,GAuBJ,UAAAL,MAAM,EAAI;AACvB,YAAKJ,QAAL,CAAcE,IAAd,CACEjB,KAAK,CAACyB,YAAN,CAAmB,MAAKV,QAAL,CAAcW,KAAd,EAAnB,EAA0C;AACxCP,QAAAA,MAAM,EAAE,IAAIhB,MAAJ,CAAW,CAACgB,MAAD,EAAS,EAAT,CAAX,CADgC;AAExCG,QAAAA,QAAQ,EAAE,MAAKA,QAFyB;AAGxCC,QAAAA,GAAG,EAAE,MAAKH;AAH8B,OAA1C,CADF;AAOD,KA/BkB;;AAAA,UAuCnBO,iBAvCmB,GAuCC,YAAM;AAAA;AAAA,UAChBL,QADgB,yBAChBA,QADgB;;AAExB,UAAMH,MAAM,GAAG,MAAKE,QAAL,KAAkB,MAAKD,QAAvB,GAAkC,CAAjD;;AACA,UAAIE,QAAQ,CAACM,CAAT,GAAaT,MAAb,GAAsB,GAAtB,IAA6BG,QAAQ,CAACM,CAAT,GAAaT,MAAb,GAAsB,GAAvD,EAA4D;AAC1D,UAAE,MAAKC,QAAP;;AACA,cAAKI,YAAL,CAAkBL,MAAlB;AACD;AACF,KA9CkB;;AAEjB,UAAKE,QAAL,GAAgB;AAAA,aAAMf,kBAAkB,CAAC,EAAD,EAAK,EAAL,CAAxB;AAAA,KAAhB;;AACA,UAAKS,QAAL,GAAgB,EAAhB;AACA,UAAKK,QAAL,GAAgB,CAAhB;;AAEA,UAAKN,gBAAL;;AANiB;AAOlB;;;;8CA0ByBF,K,EAAO;AAC/B,WAAK,IAAMiB,CAAX,IAAgBjB,KAAhB,EAAuB;AACrB,aAAKiB,CAAL,IAAU,KAAKjB,KAAL,CAAWiB,CAAX,CAAV;AACD;AACF;;;;EAtCqB5B,a;;AAkDxBU,SAAS,CAACmB,SAAV,GAAsB;AACpBR,EAAAA,QAAQ,EAAElB,SAAS,CAAC2B,UAAV,CAAqB5B,MAArB,EAA6B6B;AADnB,CAAtB;AAIArB,SAAS,CAACsB,YAAV,GAAyB;AACvBX,EAAAA,QAAQ,EAAEnB,MAAM,CAAC+B;AADM,CAAzB;AAIA,eAAe7B,SAAS,CAACM,SAAD,CAAxB","sourcesContent":["import React from \"react\";\nimport GameComponent from \"../../../../GameObject/GameComponent\";\nimport Sheep from \"./Sheep\";\nimport Vector from \"../../../../Vector/Vector\";\nimport PropTypes from \"prop-types\";\nimport { WithWorld } from \"../../../../World/HOC/WithWorld\";\n\nfunction getRandomArbitrary(min, max) {\n  return Math.random() * (max - min) + min;\n}\n\nclass SheepPool extends GameComponent {\n  constructor(props) {\n    super(props);\n    this.interval = () => getRandomArbitrary(30, 50);\n    this.children = [];\n    this.sheepKey = 0;\n\n    this.prepareForRender();\n  }\n\n  shouldComponentUpdate = () => true;\n\n  prepareForRender = () => {\n    while (this.children.length < 7) {\n      this.children.push(\n        React.createElement(Sheep, {\n          offset: new Vector([this.sheepKey++ * this.interval(), 70]),\n          position: this.position,\n          key: this.sheepKey\n        })\n      );\n    }\n  };\n\n  rotateRender = offset => {\n    this.children.push(\n      React.cloneElement(this.children.shift(), {\n        offset: new Vector([offset, 70]),\n        position: this.position,\n        key: this.sheepKey\n      })\n    );\n  };\n\n  componentWillReceiveProps(props) {\n    for (const i in props) {\n      this[i] = this.props[i];\n    }\n  }\n\n  beforeFrameRender = () => {\n    const { position } = this;\n    const offset = this.interval() * this.sheepKey - 3;\n    if (position.x + offset > 100 && position.x + offset < 150) {\n      ++this.sheepKey;\n      this.rotateRender(offset);\n    }\n  };\n}\n\nSheepPool.propTypes = {\n  position: PropTypes.instanceOf(Vector).isRequired\n};\n\nSheepPool.defaultProps = {\n  position: Vector.Zero\n};\n\nexport default WithWorld(SheepPool);\n"]},"metadata":{},"sourceType":"module"}