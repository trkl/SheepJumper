{"ast":null,"code":"import _classCallCheck from \"/Users/torkildjurhuus/Code/SheepJumper/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/torkildjurhuus/Code/SheepJumper/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/torkildjurhuus/Code/SheepJumper/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/torkildjurhuus/Code/SheepJumper/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/torkildjurhuus/Code/SheepJumper/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/torkildjurhuus/Code/SheepJumper/src/Resources/Games/SheepRunner/HUD/HUDManager.js\";\nimport React from \"react\";\nimport Menu from \"./Menu\";\nimport { WithResources } from '../../../../Resource Manager/HOC/WithResources';\nimport Game from '../Game';\nimport Timer from \"../../../../Timer/Timer\";\n\nvar HUDManager =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(HUDManager, _React$Component);\n\n  function HUDManager(props) {\n    var _this;\n\n    _classCallCheck(this, HUDManager);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HUDManager).call(this, props));\n\n    _this.updateScore = function () {\n      if (Game.instance.score !== _this.state.score) {\n        _this.setState({\n          score: Game.instance.score\n        });\n\n        if (_this.state.score > _this.state.highScore) {\n          _this.setState({\n            highScore: _this.state.score\n          });\n        }\n      }\n    };\n\n    _this.updateGameOver = function () {\n      if (Game.instance.gameOver) {\n        _this.setState({\n          gameOver: Game.instance.gameOver\n        });\n\n        Game.instance.pause = true;\n      }\n    };\n\n    _this.updateStart = function () {\n      if (Game.instance.start !== _this.state.start) {\n        _this.setState({\n          start: Game.instance.start\n        });\n      }\n    };\n\n    _this.state = {\n      font: props.font,\n      styleScore: {\n        zIndex: 6,\n        position: props.position,\n        top: props.top,\n        fontFamily: props.fontFamily,\n        fontSize: 50,\n        textAlign: _this.props.textAlign,\n        color: \"#FFF\",\n        width: \"100%\"\n      }\n    };\n    return _this;\n  }\n\n  _createClass(HUDManager, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      Timer.instance.subscribe(this.updateScore);\n      Timer.instance.subscribe(this.updateGameOver);\n      Timer.instance.subscribe(this.updateStart);\n      document.addEventListener(\"keydown\", function (event) {\n        if (event.key !== \" \") return;\n\n        if (Game.instance.start === false) {\n          Game.instance.pause = false;\n          Game.instance.start = true;\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Menu, {\n        start: Game.instance.start,\n        gameOver: Game.instance.gameOver,\n        score: Game.instance.score,\n        highScore: Game.instance.highScore,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        style: this.state.styleScore,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"style\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"@font-face {\\n                    font-family: '\".concat(this.state.styleScore.fontFamily, \"';\\n                    font-style: normal;\\n                    font-weight: 400;\\n                    src: url('\").concat(this.props.resourceManager.getFont(this.state.font), \"');}\")), this.state.score));\n    }\n  }]);\n\n  return HUDManager;\n}(React.Component);\n\nexport default WithResources(HUDManager);","map":{"version":3,"sources":["/Users/torkildjurhuus/Code/SheepJumper/src/Resources/Games/SheepRunner/HUD/HUDManager.js"],"names":["React","Menu","WithResources","Game","Timer","HUDManager","props","updateScore","instance","score","state","setState","highScore","updateGameOver","gameOver","pause","updateStart","start","font","styleScore","zIndex","position","top","fontFamily","fontSize","textAlign","color","width","subscribe","document","addEventListener","event","key","resourceManager","getFont","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Menu from \"./Menu\";\nimport {WithResources} from '../../../../Resource Manager/HOC/WithResources'\nimport Game from '../Game'\nimport Timer from \"../../../../Timer/Timer\"\n\nclass HUDManager extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      font: props.font,\n      styleScore: {\n        zIndex: 6,\n        position: props.position,\n        top: props.top,\n        fontFamily: props.fontFamily,\n        fontSize: 50,\n        textAlign: this.props.textAlign,\n        color: \"#FFF\",\n        width: \"100%\"\n      }\n    };\n  }\n\n  componentWillMount() {\n    Timer.instance.subscribe(this.updateScore);\n    Timer.instance.subscribe(this.updateGameOver);\n    Timer.instance.subscribe(this.updateStart);\n\n    document.addEventListener(\"keydown\", event => {\n      if (event.key !== \" \") return;\n      if (Game.instance.start === false) {\n        Game.instance.pause = false;\n        Game.instance.start = true;\n      }\n    });\n  }\n  updateScore = () => {\n    if (Game.instance.score !== this.state.score) {\n      this.setState({ score: Game.instance.score });\n      if (this.state.score > this.state.highScore) {\n        this.setState({ highScore: this.state.score });\n      }\n    }\n  };\n  updateGameOver = () => {\n    if (Game.instance.gameOver) {\n      this.setState({ gameOver: Game.instance.gameOver });\n      Game.instance.pause = true;\n    }\n  };\n  updateStart = () => {\n    if (Game.instance.start !== this.state.start) {\n      this.setState({ start: Game.instance.start });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <Menu\n          start={Game.instance.start}\n          gameOver={Game.instance.gameOver}\n          score={Game.instance.score}\n          highScore={Game.instance.highScore}\n        />\n        <h2 style={this.state.styleScore}>\n          <style>\n            {`@font-face {\n                    font-family: '${this.state.styleScore.fontFamily}';\n                    font-style: normal;\n                    font-weight: 400;\n                    src: url('${this.props.resourceManager.getFont(\n                      this.state.font\n                    )}');}`}\n          </style>\n          {this.state.score}\n        </h2>\n      </div>\n    );\n  }\n}\nexport default WithResources(HUDManager);\n"]},"metadata":{},"sourceType":"module"}